

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parts Implemented by Ahmet YILMAZ &mdash; itucsdb1930  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Parts Implemented by Muhammed Enes Tırnakçı" href="member2.html" />
    <link rel="prev" title="Developer Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> itucsdb1930
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Parts Implemented by Ahmet YILMAZ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#database-design">Database Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code">Code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="member2.html">Parts Implemented by Muhammed Enes Tırnakçı</a></li>
<li class="toctree-l2"><a class="reference internal" href="member3.html">Parts Implemented by Beraat Buz</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">itucsdb1930</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Developer Guide</a> &raquo;</li>
        
      <li>Parts Implemented by Ahmet YILMAZ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/member1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parts-implemented-by-ahmet-yilmaz">
<h1>Parts Implemented by Ahmet YILMAZ<a class="headerlink" href="#parts-implemented-by-ahmet-yilmaz" title="Permalink to this headline">¶</a></h1>
<div class="section" id="database-design">
<h2>Database Design<a class="headerlink" href="#database-design" title="Permalink to this headline">¶</a></h2>
<p><strong>explain the database design of your project</strong></p>
<blockquote>
<div><div class="figure align-default">
<a class="reference internal image-reference" href="../_images/erDiagram.png"><img alt="E/R Diagram for Assist, Statistic, Stadium" src="../_images/erDiagram.png" style="width: 491.5px; height: 251.0px;" /></a>
</div>
</div></blockquote>
</div>
<div class="section" id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<p><strong>explain the technical structure of your code</strong></p>
<p><strong>to include a code listing, use the following example</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Assist.id,Player.playername,Assist.minute,home.teamname as HomeTeam, away.teamname as AwayTeam,Assist.lasttouch,Assist.format,Assist.goldenassist,Assist.stadiumha, Player.id, HomeTeam,Awayteam,MatchID FROM Assist, Player,Teams as home, Teams as away, Fixtures where Assist.playerid = Player.id and Assist.matchid = fixtures.id and home.id=fixtures.hometeam and away.id=fixtures.awayteam ORDER BY fixtures.ID&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code get all assist from db by joining Teams and Fixtures tables. To show the assist is done in which match we have to join with fixtures table and teams table for team’s name</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PlayerId</span><span class="p">,</span> <span class="n">MatchId</span><span class="p">,</span> <span class="n">Minute</span><span class="p">,</span> <span class="n">LastTouch</span><span class="p">,</span> <span class="n">Format</span><span class="p">,</span> <span class="n">GoldenAssist</span><span class="p">,</span> <span class="n">StadiumHA</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Assist(PlayerId,MatchId,Minute,LastTouch,Format,GoldenAssist,StadiumHA) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">PlayerId</span><span class="p">,</span> <span class="n">MatchId</span><span class="p">,</span><span class="n">Minute</span><span class="p">,</span><span class="n">LastTouch</span><span class="p">,</span><span class="n">Format</span><span class="p">,</span><span class="n">GoldenAssist</span><span class="p">,</span><span class="n">StadiumHA</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method adds new assist</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AssistId</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Assist Where ID = </span><span class="si">%s</span><span class="s2">; &quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">AssistId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method deletes the asistst according to id value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">AssistId</span><span class="p">,</span> <span class="n">PlayerId</span><span class="p">,</span> <span class="n">MatchId</span><span class="p">,</span> <span class="n">Minute</span><span class="p">,</span> <span class="n">LastTouch</span><span class="p">,</span> <span class="n">Format</span><span class="p">,</span> <span class="n">GoldenAssist</span><span class="p">,</span> <span class="n">StadiumHA</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Assist Set PlayerID=</span><span class="si">%s</span><span class="s2">, MatchID=</span><span class="si">%s</span><span class="s2">, Minute=</span><span class="si">%s</span><span class="s2">, LastTouch=</span><span class="si">%s</span><span class="s2">, Format=</span><span class="si">%s</span><span class="s2">,GoldenAssist=</span><span class="si">%s</span><span class="s2">,StadiumHA=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">PlayerId</span><span class="p">,</span> <span class="n">MatchId</span><span class="p">,</span> <span class="n">Minute</span><span class="p">,</span> <span class="n">LastTouch</span><span class="p">,</span> <span class="n">Format</span><span class="p">,</span> <span class="n">GoldenAssist</span><span class="p">,</span> <span class="n">StadiumHA</span><span class="p">,</span> <span class="n">AssistId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This query updates the assist that exists before</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist_update_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; Select * From Assist where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">ID</span><span class="p">]))</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To get information of asisst that will be updated and show in the .html page, we use this method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Assist_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Key</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Assist.id,Player.playername,Teams.Teamname, Assist.minute,Assist.lasttouch,Assist.format,Assist.goldenassist,Assist.stadiumha, Player.id, Player.teamid FROM Assist, Player,Teams,Fixtures where Assist.playerid = Player.id and Assist.matchid = fixtures.id and fixtures.id=</span><span class="si">%s</span><span class="s2"> and Teams.id=Player.Teamid ORDER BY minute&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,[</span><span class="n">Key</span><span class="p">])</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To show assists information on the user side, we use this query.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Stadium.id, Teamname, StadiumName, capacity,built,pitchsize,surface,team_id FROM Stadium,teams Where Teams.id=team_id ORDER BY Teamname&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code get all stadium information from db by joining Teams table to show team’s name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">TeamId</span><span class="p">,</span> <span class="n">StadiumName</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Built</span><span class="p">,</span> <span class="n">PitchSize</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Stadium(Team_ID,Stadiumname,Capacity,Built,PitchSize,Surface) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">TeamId</span><span class="p">,</span> <span class="n">StadiumName</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Built</span><span class="p">,</span> <span class="n">PitchSize</span><span class="p">,</span> <span class="n">Surface</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method adds new stadium for teams.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">StadiumId</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Stadium Where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">StadiumId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method deletes the stadium according to id value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">StadiumId</span><span class="p">,</span> <span class="n">TeamId</span><span class="p">,</span> <span class="n">StadiumName</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Built</span><span class="p">,</span> <span class="n">PitchSize</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Stadium Set Team_ID=</span><span class="si">%s</span><span class="s2">, Stadiumname=</span><span class="si">%s</span><span class="s2">, Capacity=</span><span class="si">%s</span><span class="s2">, Built=</span><span class="si">%s</span><span class="s2">, PitchSize=</span><span class="si">%s</span><span class="s2">, Surface=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">TeamId</span><span class="p">,</span> <span class="n">StadiumName</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Built</span><span class="p">,</span> <span class="n">PitchSize</span><span class="p">,</span> <span class="n">Surface</span><span class="p">,</span> <span class="n">StadiumId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This query updates the stadium that exists before</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium_update_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; Select * From Stadium where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">ID</span><span class="p">]))</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To get information of stadium that will be updated and show in the .html page, we use this method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Stadium_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Key</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Stadium.id, Teamname, StadiumName, capacity,built,pitchsize,surface,team_id FROM Stadium,teams Where Teams.id=team_id and team_id=</span><span class="si">%s</span><span class="s2"> ORDER BY Teamname&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="p">[</span><span class="n">Key</span><span class="p">])</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To show stadium information on the user side, we use this query.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select statistic.ID, matchid, HPossesion, HCorner, HFoul, HOffside, HShot, HShotOnTarget, HShotAccuracy, HPassAccuracy, APossesion, ACorner, AFoul, AOffside, AShot, AShotOnTarget, AShotAccuracy, APassAccuracy, RefereeName FROM Statistic,Referee where &quot;RefereeID&quot;=Referee.ID ORDER BY MatchID&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code get all statistic from db by joining Referee table to show referee’s name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span> <span class="n">HCorner</span><span class="p">,</span> <span class="n">HFoul</span><span class="p">,</span> <span class="n">HOffside</span><span class="p">,</span> <span class="n">HShot</span><span class="p">,</span> <span class="n">HShotOnTarget</span><span class="p">,</span> <span class="n">HShotAccuracy</span><span class="p">,</span> <span class="n">HPassAccuracy</span><span class="p">,</span> <span class="n">APossesion</span><span class="p">,</span> <span class="n">ACorner</span><span class="p">,</span> <span class="n">AFoul</span><span class="p">,</span> <span class="n">AOffside</span><span class="p">,</span> <span class="n">AShot</span><span class="p">,</span> <span class="n">AShotOnTarget</span><span class="p">,</span> <span class="n">AShotAccuracy</span><span class="p">,</span> <span class="n">APassAccuracy</span><span class="p">,</span> <span class="n">RefereeID</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Statistic(MatchID, HPossesion, HCorner, HFoul, HOffside, HShot, HShotOnTarget, HShotAccuracy, HPassAccuracy, APossesion, ACorner, AFoul, AOffside, AShot, AShotOnTarget, AShotAccuracy, APassAccuracy, &quot;RefereeID&quot;) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span> <span class="n">HCorner</span><span class="p">,</span> <span class="n">HFoul</span><span class="p">,</span> <span class="n">HOffside</span><span class="p">,</span> <span class="n">HShot</span><span class="p">,</span> <span class="n">HShotOnTarget</span><span class="p">,</span> <span class="n">HShotAccuracy</span><span class="p">,</span> <span class="n">HPassAccuracy</span><span class="p">,</span> <span class="n">APossesion</span><span class="p">,</span> <span class="n">ACorner</span><span class="p">,</span> <span class="n">AFoul</span><span class="p">,</span> <span class="n">AOffside</span><span class="p">,</span> <span class="n">AShot</span><span class="p">,</span> <span class="n">AShotOnTarget</span><span class="p">,</span> <span class="n">AShotAccuracy</span><span class="p">,</span> <span class="n">APassAccuracy</span><span class="p">,</span> <span class="n">RefereeID</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method adds new statistic for the match</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">StatisticId</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Statistic Where ID = </span><span class="si">%s</span><span class="s2">; &quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">StatisticId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This method deletes the statistic according to id value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic_Update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">StatisticId</span><span class="p">,</span> <span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span> <span class="n">HCorner</span><span class="p">,</span> <span class="n">HFoul</span><span class="p">,</span> <span class="n">HOffside</span><span class="p">,</span> <span class="n">HShot</span><span class="p">,</span> <span class="n">HShotOnTarget</span><span class="p">,</span> <span class="n">HShotAccuracy</span><span class="p">,</span> <span class="n">HPassAccuracy</span><span class="p">,</span> <span class="n">APossesion</span><span class="p">,</span> <span class="n">ACorner</span><span class="p">,</span> <span class="n">AFoul</span><span class="p">,</span> <span class="n">AOffside</span><span class="p">,</span> <span class="n">AShot</span><span class="p">,</span> <span class="n">AShotOnTarget</span><span class="p">,</span> <span class="n">AShotAccuracy</span><span class="p">,</span> <span class="n">APassAccuracy</span><span class="p">,</span> <span class="n">RefereeID</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Statistic Set MatchID=</span><span class="si">%s</span><span class="s2">, HPossesion=</span><span class="si">%s</span><span class="s2">, HCorner=</span><span class="si">%s</span><span class="s2">, HFoul=</span><span class="si">%s</span><span class="s2">, HOffside=</span><span class="si">%s</span><span class="s2">, HShot=</span><span class="si">%s</span><span class="s2">, HShotOnTarget=</span><span class="si">%s</span><span class="s2">, HShotAccuracy=</span><span class="si">%s</span><span class="s2">, HPassAccuracy=</span><span class="si">%s</span><span class="s2">, APossesion=</span><span class="si">%s</span><span class="s2">, ACorner=</span><span class="si">%s</span><span class="s2">, AFoul=</span><span class="si">%s</span><span class="s2">, AOffside=</span><span class="si">%s</span><span class="s2">, AShot=</span><span class="si">%s</span><span class="s2">, AShotOnTarget=</span><span class="si">%s</span><span class="s2">, AShotAccuracy=</span><span class="si">%s</span><span class="s2">, APassAccuracy=</span><span class="si">%s</span><span class="s2">, &quot;RefereeID&quot;=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span> <span class="n">HCorner</span><span class="p">,</span> <span class="n">HFoul</span><span class="p">,</span> <span class="n">HOffside</span><span class="p">,</span> <span class="n">HShot</span><span class="p">,</span> <span class="n">HShotOnTarget</span><span class="p">,</span> <span class="n">HShotAccuracy</span><span class="p">,</span> <span class="n">HPassAccuracy</span><span class="p">,</span> <span class="n">APossesion</span><span class="p">,</span> <span class="n">ACorner</span><span class="p">,</span> <span class="n">AFoul</span><span class="p">,</span> <span class="n">AOffside</span><span class="p">,</span> <span class="n">AShot</span><span class="p">,</span> <span class="n">AShotOnTarget</span><span class="p">,</span> <span class="n">AShotAccuracy</span><span class="p">,</span> <span class="n">APassAccuracy</span><span class="p">,</span> <span class="n">RefereeID</span><span class="p">,</span><span class="n">StatisticId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This query updates the statistic that exists before</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic_update_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select * FROM Statistic where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">ID</span><span class="p">]))</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To get information of statistic that will be updated and show in the .html page, we use this method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Statistic_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Key</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
         <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select statistic.ID, matchid, HPossesion, HCorner, HFoul, HOffside, HShot, HShotOnTarget, HShotAccuracy, HPassAccuracy, APossesion, ACorner, AFoul, AOffside, AShot, AShotOnTarget, AShotAccuracy, APassAccuracy, RefereeName, Statistic.&quot;RefereeID&quot; FROM Statistic, Referee  Where matchid=</span><span class="si">%s</span><span class="s2"> and Statistic.&quot;RefereeID&quot;=Referee.id ORDER BY MatchID&quot;&quot;&quot;</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,[</span><span class="n">Key</span><span class="p">])</span>
         <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To show statistic information on the user side, we use this query.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/stadium&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">stadium_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Stadium</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;stadium.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
   <span class="k">else</span><span class="p">:</span>
      <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
      <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
      <span class="k">if</span><span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
            <span class="n">form_stadium_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;stadium_keys&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">form_stadium_key</span> <span class="ow">in</span> <span class="n">form_stadium_keys</span><span class="p">:</span>
               <span class="n">obje</span><span class="o">.</span><span class="n">Stadium_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_stadium_key</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;stadium_page&quot;</span><span class="p">))</span>
      <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;stadium_add_page&quot;</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">stadium_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>In this method, if we enter the stadium page with get method, we list information of stadiums. If it is post, we investigate the button value. If the value is add we go to stadium add page, if it is delete, we call stadium delete method. In the other possibility we go to stadium update page by calling stadium information method that gets the information of stadium that will be updated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/add_stadium&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">stadium_add_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">teamCursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Team</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_stadium.html&#39;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">teamCursor</span><span class="p">)</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="n">Team_ID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Team_ID&quot;</span><span class="p">])</span>
      <span class="n">Stadiumname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Stadiumname&quot;</span><span class="p">])</span>
      <span class="n">Capacity</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Capacity&quot;</span><span class="p">])</span>
      <span class="n">Built</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Built&quot;</span><span class="p">])</span>
      <span class="n">PitchSize</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;PitchSize&quot;</span><span class="p">])</span>
      <span class="n">Surface</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Surface&quot;</span><span class="p">])</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">obje</span><span class="o">.</span><span class="n">Stadium_add</span><span class="p">(</span><span class="n">Team_ID</span><span class="p">,</span><span class="n">Stadiumname</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">Capacity</span><span class="p">),</span><span class="n">Built</span><span class="p">,</span><span class="n">PitchSize</span><span class="p">,</span><span class="n">Surface</span><span class="p">)</span>
      <span class="n">flash</span><span class="p">(</span><span class="s2">&quot;Stadium added&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;stadium_add_page&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>if our method is post, we get the form information and we add new stadium.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_stadium&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">stadium_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;stadium.html&quot;</span><span class="p">)</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Team_ID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Team_ID&quot;</span><span class="p">])</span>
            <span class="n">Stadiumname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Stadiumname&quot;</span><span class="p">])</span>
            <span class="n">Capacity</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Capacity&quot;</span><span class="p">])</span>
            <span class="n">Built</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Built&quot;</span><span class="p">])</span>
            <span class="n">PitchSize</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;PitchSize&quot;</span><span class="p">])</span>
            <span class="n">Surface</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Surface&quot;</span><span class="p">])</span>
            <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
            <span class="n">obje</span><span class="o">.</span><span class="n">Stadium_update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">Team_ID</span><span class="p">,</span><span class="n">Stadiumname</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">Capacity</span><span class="p">),</span><span class="n">Built</span><span class="p">,</span><span class="n">PitchSize</span><span class="p">,</span><span class="n">Surface</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;stadium_page&quot;</span><span class="p">))</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Stadium_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
      <span class="n">teamsCursor</span> <span class="o">=</span> <span class="n">obje</span><span class="o">.</span><span class="n">Team</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_stadium.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">teamsCursor</span><span class="p">])</span>
</pre></div>
</div>
<p>if our method is post, we update the stadium according the id value received as a parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/stadium_user&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">stadium_user_page</span><span class="p">():</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Stadium</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;user_stadium.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
</pre></div>
</div>
<p>To send information of stadiums to user, we use this method</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/assist&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">assist_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Assist</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;assist.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
   <span class="k">else</span><span class="p">:</span>
      <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
      <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
      <span class="k">if</span><span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
            <span class="n">form_assist_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;assist_keys&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">form_assist_key</span> <span class="ow">in</span> <span class="n">form_assist_keys</span><span class="p">:</span>
               <span class="n">obje</span><span class="o">.</span><span class="n">Assist_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_assist_key</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;assist_page&quot;</span><span class="p">))</span>
      <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;assist_add_page&quot;</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">assist_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>In this method, if we enter the assist page with get method, we list information of assists.  If it is post, we investigate the button value. If the value is add we go to assists add page, if it is delete, we call assist delete method. In the other possibility we go to assist update page by calling assist information method that gets the information of assists that will be updated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/add_assist&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">assist_add_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">playerCursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Player</span><span class="p">()</span>
      <span class="n">fixtureCursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures2</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_assist.html&#39;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">playerCursor</span><span class="p">,</span><span class="n">fixtureCursor</span><span class="p">])</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="n">PlayerID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;PlayerID&quot;</span><span class="p">])</span>
      <span class="n">MatchID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchID&quot;</span><span class="p">])</span>
      <span class="n">Minute</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Minute&quot;</span><span class="p">])</span>
      <span class="n">LastTouch</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;LastTouch&quot;</span><span class="p">])</span>
      <span class="n">Format</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Format&quot;</span><span class="p">])</span>
      <span class="n">GoldenAssist</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;GoldenAssist&quot;</span><span class="p">])</span>
      <span class="n">StadiumHA</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;StadiumHA&quot;</span><span class="p">])</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">obje</span><span class="o">.</span><span class="n">Assist_add</span><span class="p">(</span><span class="n">PlayerID</span><span class="p">,</span><span class="n">MatchID</span><span class="p">,</span><span class="n">Minute</span><span class="p">,</span><span class="n">LastTouch</span><span class="p">,</span><span class="n">Format</span><span class="p">,</span><span class="n">GoldenAssist</span><span class="p">,</span><span class="n">StadiumHA</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;assist_add_page&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>if our method is post, we get the form information and we add new assist.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_assist&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">assist_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;assist.html&quot;</span><span class="p">)</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">PlayerID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;PlayerID&quot;</span><span class="p">])</span>
            <span class="n">MatchID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchID&quot;</span><span class="p">])</span>
            <span class="n">Minute</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Minute&quot;</span><span class="p">])</span>
            <span class="n">LastTouch</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;LastTouch&quot;</span><span class="p">])</span>
            <span class="n">Format</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Format&quot;</span><span class="p">])</span>
            <span class="n">GoldenAssist</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;GoldenAssist&quot;</span><span class="p">])</span>
            <span class="n">StadiumHA</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;StadiumHA&quot;</span><span class="p">])</span>
            <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
            <span class="n">obje</span><span class="o">.</span><span class="n">Assist_update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">PlayerID</span><span class="p">,</span><span class="n">MatchID</span><span class="p">,</span><span class="n">Minute</span><span class="p">,</span><span class="n">LastTouch</span><span class="p">,</span><span class="n">Format</span><span class="p">,</span><span class="n">GoldenAssist</span><span class="p">,</span><span class="n">StadiumHA</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;assist_page&quot;</span><span class="p">))</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Assist_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
      <span class="n">playerCursor</span> <span class="o">=</span> <span class="n">obje</span><span class="o">.</span><span class="n">Player</span><span class="p">()</span>
      <span class="n">fixtureCursor</span> <span class="o">=</span> <span class="n">obje</span><span class="o">.</span><span class="n">Fixtures2</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_assist.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">playerCursor</span><span class="p">,</span><span class="n">fixtureCursor</span><span class="p">])</span>
</pre></div>
</div>
<p>if our method is post, we update the assist according the id value received as a parameter.</p>
<p>To send information of top player’s assists, we use this method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/statistic&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">statistic_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Statistic</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;statistic.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
   <span class="k">else</span><span class="p">:</span>
      <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
      <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
      <span class="k">if</span><span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
            <span class="n">form_statistic_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;statistic_keys&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">form_statistic_key</span> <span class="ow">in</span> <span class="n">form_statistic_keys</span><span class="p">:</span>
               <span class="n">obje</span><span class="o">.</span><span class="n">Statistic_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_statistic_key</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;statistic_page&quot;</span><span class="p">))</span>
      <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;statistic_add_page&quot;</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">statistic_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>In this method, if we enter the statistic page with get method, we list information of statistic.  If it is post, we investigate the button value. If the value is add we go to stastistic add page, if it is delete, we call statistc delete method. In the other possibility we go to statistic update page by calling statistic information method that gets the information of statistic that will be updated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/add_statistic&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">statistic_add_page</span><span class="p">():</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
   <span class="n">cursor2</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures2</span><span class="p">()</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_statistic.html&#39;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">cursor2</span><span class="p">])</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="n">MatchID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchID&quot;</span><span class="p">])</span>
      <span class="n">HPossesion</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HPossesion&quot;</span><span class="p">])</span>
      <span class="n">HCorner</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HCorner&quot;</span><span class="p">])</span>
      <span class="n">HFoul</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HFoul&quot;</span><span class="p">])</span>
      <span class="n">HOffside</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HOffside&quot;</span><span class="p">])</span>
      <span class="n">HShot</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShot&quot;</span><span class="p">])</span>
      <span class="n">HShotOnTarget</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShotOnTarget&quot;</span><span class="p">])</span>
      <span class="n">HShotAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShotAccuracy&quot;</span><span class="p">])</span>
      <span class="n">HPassAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HPassAccuracy&quot;</span><span class="p">])</span>
      <span class="n">APossesion</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;APossesion&quot;</span><span class="p">])</span>
      <span class="n">ACorner</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;ACorner&quot;</span><span class="p">])</span>
      <span class="n">AFoul</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AFoul&quot;</span><span class="p">])</span>
      <span class="n">AOffside</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AOffside&quot;</span><span class="p">])</span>
      <span class="n">AShot</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShot&quot;</span><span class="p">])</span>
      <span class="n">AShotOnTarget</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShotOnTarget&quot;</span><span class="p">])</span>
      <span class="n">AShotAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShotAccuracy&quot;</span><span class="p">])</span>
      <span class="n">APassAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;APassAccuracy&quot;</span><span class="p">])</span>
      <span class="n">RefereeID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;RefereeID&quot;</span><span class="p">])</span>
      <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
      <span class="n">obje</span><span class="o">.</span><span class="n">Statistic_add</span><span class="p">(</span><span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span><span class="n">HCorner</span><span class="p">,</span><span class="n">HFoul</span><span class="p">,</span><span class="n">HOffside</span><span class="p">,</span><span class="n">HShot</span><span class="p">,</span><span class="n">HShotOnTarget</span><span class="p">,</span><span class="n">HShotAccuracy</span><span class="p">,</span><span class="n">HPassAccuracy</span><span class="p">,</span><span class="n">APossesion</span><span class="p">,</span><span class="n">ACorner</span><span class="p">,</span><span class="n">AFoul</span><span class="p">,</span><span class="n">AOffside</span><span class="p">,</span><span class="n">AShot</span><span class="p">,</span><span class="n">AShotOnTarget</span><span class="p">,</span><span class="n">AShotAccuracy</span><span class="p">,</span><span class="n">APassAccuracy</span><span class="p">,</span><span class="n">RefereeID</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;add_statistic.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">cursor2</span><span class="p">])</span>
</pre></div>
</div>
<p>if our method is post, we get the form information and we add new statistic.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_statistic&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">statistic_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
      <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
   <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
   <span class="n">cursorReferee</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
   <span class="n">cursorFixture</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures2</span><span class="p">()</span>
   <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;statistic.html&quot;</span><span class="p">)</span>
   <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">MatchID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchID&quot;</span><span class="p">])</span>
            <span class="n">HPossesion</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HPossesion&quot;</span><span class="p">])</span>
            <span class="n">HCorner</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HCorner&quot;</span><span class="p">])</span>
            <span class="n">HFoul</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HFoul&quot;</span><span class="p">])</span>
            <span class="n">HOffside</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HOffside&quot;</span><span class="p">])</span>
            <span class="n">HShot</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShot&quot;</span><span class="p">])</span>
            <span class="n">HShotOnTarget</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShotOnTarget&quot;</span><span class="p">])</span>
            <span class="n">HShotAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HShotAccuracy&quot;</span><span class="p">])</span>
            <span class="n">HPassAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HPassAccuracy&quot;</span><span class="p">])</span>
            <span class="n">APossesion</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;APossesion&quot;</span><span class="p">])</span>
            <span class="n">ACorner</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;ACorner&quot;</span><span class="p">])</span>
            <span class="n">AFoul</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AFoul&quot;</span><span class="p">])</span>
            <span class="n">AOffside</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AOffside&quot;</span><span class="p">])</span>
            <span class="n">AShot</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShot&quot;</span><span class="p">])</span>
            <span class="n">AShotOnTarget</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShotOnTarget&quot;</span><span class="p">])</span>
            <span class="n">AShotAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AShotAccuracy&quot;</span><span class="p">])</span>
            <span class="n">APassAccuracy</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;APassAccuracy&quot;</span><span class="p">])</span>
            <span class="n">RefereeID</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;RefereeID&quot;</span><span class="p">])</span>
            <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
            <span class="n">obje</span><span class="o">.</span><span class="n">Statistic_Update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">MatchID</span><span class="p">,</span> <span class="n">HPossesion</span><span class="p">,</span><span class="n">HCorner</span><span class="p">,</span><span class="n">HFoul</span><span class="p">,</span><span class="n">HOffside</span><span class="p">,</span><span class="n">HShot</span><span class="p">,</span><span class="n">HShotOnTarget</span><span class="p">,</span><span class="n">HShotAccuracy</span><span class="p">,</span><span class="n">HPassAccuracy</span><span class="p">,</span><span class="n">APossesion</span><span class="p">,</span><span class="n">ACorner</span><span class="p">,</span><span class="n">AFoul</span><span class="p">,</span><span class="n">AOffside</span><span class="p">,</span><span class="n">AShot</span><span class="p">,</span><span class="n">AShotOnTarget</span><span class="p">,</span><span class="n">AShotAccuracy</span><span class="p">,</span><span class="n">APassAccuracy</span><span class="p">,</span><span class="n">RefereeID</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;statistic_page&quot;</span><span class="p">))</span>
      <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Statistic_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_statistic.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">cursorReferee</span><span class="p">,</span><span class="n">cursorFixture</span><span class="p">])</span>
</pre></div>
</div>
<p>if our method is post, we update the statistic according the id value received as a parameter.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="member2.html" class="btn btn-neutral float-right" title="Parts Implemented by Muhammed Enes Tırnakçı" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, itucsdb1930

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>