

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parts Implemented by Beraat Buz &mdash; itucsdb1930  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Parts Implemented by Muhammed Enes Tırnakçı" href="member2.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> itucsdb1930
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="member1.html">Parts Implemented by Ahmet YILMAZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="member2.html">Parts Implemented by Muhammed Enes Tırnakçı</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Parts Implemented by Beraat Buz</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#database-design">Database Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code">Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">itucsdb1930</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Developer Guide</a> &raquo;</li>
        
      <li>Parts Implemented by Beraat Buz</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/member3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parts-implemented-by-beraat-buz">
<h1>Parts Implemented by Beraat Buz<a class="headerlink" href="#parts-implemented-by-beraat-buz" title="Permalink to this headline">¶</a></h1>
<div class="section" id="database-design">
<h2>Database Design<a class="headerlink" href="#database-design" title="Permalink to this headline">¶</a></h2>
<p><strong>explain the database design of your project</strong></p>
<blockquote>
<div><div class="figure align-default">
<a class="reference internal image-reference" href="../_images/er.png"><img alt="E/R Diagram" src="../_images/er.png" style="width: 468.0px; height: 243.0px;" /></a>
</div>
</div></blockquote>
</div>
<div class="section" id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<p><strong>explain the technical structure of your code</strong></p>
<p><strong>to include a code listing, use the following example</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lm</span> <span class="o">=</span> <span class="n">LoginManager</span><span class="p">()</span>

        <span class="nd">@lm</span><span class="o">.</span><span class="n">user_loader</span>
        <span class="k">def</span> <span class="nf">load_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>

        <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;SECRET_KEY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ThisisSecret&#39;</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="s2">&quot;settings&quot;</span><span class="p">)</span>
        <span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">home_page</span><span class="p">():</span>
                 <span class="n">logout_user</span><span class="p">()</span>
                 <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;fixture_user_page&quot;</span><span class="p">))</span>
        <span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
                <span class="n">username</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s2">&quot;Username&quot;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">()])</span>
                <span class="n">password</span> <span class="o">=</span> <span class="n">PasswordField</span><span class="p">(</span><span class="s2">&quot;Password&quot;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">()])</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
        <span class="k">def</span> <span class="nf">login_page</span><span class="p">():</span>
                <span class="n">form</span> <span class="o">=</span> <span class="n">LoginForm</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_submitted</span><span class="p">():</span>
                        <span class="n">username</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span>
                        <span class="n">user</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="n">password</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">hasher</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">password</span><span class="p">):</span>
                                        <span class="n">login_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
                                        <span class="n">flash</span><span class="p">(</span><span class="s2">&quot;You have logged in.&quot;</span><span class="p">)</span>
                                        <span class="n">next_page</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;next&quot;</span><span class="p">,</span> <span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;fixture_page&quot;</span><span class="p">))</span>
                                        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">next_page</span><span class="p">)</span>
                        <span class="n">flash</span><span class="p">(</span><span class="s2">&quot;Invalid credentials.&quot;</span><span class="p">)</span>
                        <span class="c1">#abort(401)</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for login and login page. ınput validation is done. Hasher is used to hide the password.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/fixture_user&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">fixture_user_page</span><span class="p">():</span>
        <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;user-fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
                <span class="n">week</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;select&#39;</span><span class="p">)</span>
                <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures</span><span class="p">(</span><span class="n">week</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;user-fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for fixture page at user side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixtures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">week</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Fixtures.ID,T1.TeamName ,T2.TeamName,Week,MatchDate,Time,HomeScore,AwayScore,Status,RefereeName, HomeTeam, AwayTeam,Refereeid FROM Fixtures,Teams AS T1,Teams AS T2,Referee WHERE Week = </span><span class="si">%s</span><span class="s2"> AND T1.ID=HomeTeam AND T2.ID=AwayTeam AND Refereeid=Referee.id ORDER BY MatchDate,Time;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">week</span><span class="p">]))</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code is required for fixture page at user side for week selection and table creation. The cursor is used in HTML file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/referee_user&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">referee_user_page</span><span class="p">():</span>
           <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                          <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;user-referee.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for referee page at user side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Referee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select * FROM Referee ORDER BY RefereeName&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code is required for referee page at user side for table creation. The cursor is used in HTML file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/standing_user&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
          <span class="k">def</span> <span class="nf">standing_user_page</span><span class="p">():</span>
                  <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                          <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Standings</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;user-standing.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for standing table page at user side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Standings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Standings.ID,TeamName,Played,Won,Drawn,Lost,Goals_for,Goals_against,Goals_difference,Points, Teams.id FROM Standings,Teams WHERE Teams.ID=TeamID ORDER BY Points DESC,Goals_difference DESC,TeamName;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>This code is required for standing page at user side for table creation. The cursor is used in HTML file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/fixture&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
        <span class="nd">@login_required</span>
        <span class="k">def</span> <span class="nf">fixture_page</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                        <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                        <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
                        <span class="n">processStart</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
                        <span class="n">processLive</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Live&#39;</span><span class="p">)</span>
                        <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
                                <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;fixture_adding_page&quot;</span><span class="p">))</span>
                        <span class="k">elif</span> <span class="p">(</span><span class="n">processStart</span><span class="p">):</span>
                                <span class="k">return</span> <span class="n">fixture_update_page</span><span class="p">(</span><span class="n">processStart</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="p">(</span><span class="n">processLive</span><span class="p">):</span>
                                <span class="k">return</span> <span class="n">live_match_page</span><span class="p">(</span><span class="n">processLive</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;week&quot;</span><span class="p">):</span>
                                <span class="n">week</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;select&#39;</span><span class="p">)</span>
                                <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixtures</span><span class="p">(</span><span class="n">week</span><span class="p">)</span>
                                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
                                <span class="n">form_fixture_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;fixture&#39;</span><span class="p">)</span>
                                <span class="k">for</span> <span class="n">form_fixture_key</span> <span class="ow">in</span> <span class="n">form_fixture_keys</span><span class="p">:</span>
                                        <span class="n">obje</span><span class="o">.</span><span class="n">Fixture_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_fixture_key</span><span class="p">))</span>
                                <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;fixture_page&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                                <span class="k">return</span> <span class="n">fixture_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for fixture page at administrator side for table creation. Firstly, using GET method creates table for week 1. Then, by clicking desired button operates add, delete, update or starting match operations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/add_fixture&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
        <span class="nd">@login_required</span>
        <span class="k">def</span> <span class="nf">fixture_adding_page</span><span class="p">():</span>
                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                <span class="n">cursor1</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Team</span><span class="p">()</span>
                <span class="n">cursor2</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                        <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_fixture.html&#39;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor1</span><span class="p">,</span><span class="n">cursor2</span><span class="p">])</span>

                <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
                        <span class="n">HomeTeam</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HomeTeam&quot;</span><span class="p">]</span>
                        <span class="n">AwayTeam</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AwayTeam&quot;</span><span class="p">]</span>
                        <span class="n">HomeScore</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HomeScore&quot;</span><span class="p">]</span>
                        <span class="n">AwayScore</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AwayScore&quot;</span><span class="p">]</span>
                        <span class="n">Week</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Week&quot;</span><span class="p">]</span>
                        <span class="n">MatchDate</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchDate&quot;</span><span class="p">]</span>
                        <span class="n">Time</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span>
                        <span class="n">Status</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span>
                        <span class="n">Refereeid</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Refereeid&quot;</span><span class="p">]</span>
                        <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                        <span class="n">obje</span><span class="o">.</span><span class="n">Fixture_add</span><span class="p">(</span><span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">)</span>
                        <span class="n">flash</span><span class="p">(</span><span class="s2">&quot;You have added.&quot;</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;add_fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor1</span><span class="p">,</span><span class="n">cursor2</span><span class="p">])</span>
</pre></div>
</div>
<p>This code is required for fixture adding page at administrator side. Two cursors are used to post input by using selection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixture_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Fixtures(HomeTeam,AwayTeam,HomeScore,AwayScore,Week,MatchDate,Time,Status,Refereeid) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">]))</span>
</pre></div>
</div>
<p>This code is required for fixture adding page at administrator side. This query provides insertion to Fixtures Table.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_fixture&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">fixture_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
        <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;fixture.html&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">HomeTeam</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HomeTeam&quot;</span><span class="p">]</span>
                        <span class="n">AwayTeam</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AwayTeam&quot;</span><span class="p">]</span>
                        <span class="n">HomeScore</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;HomeScore&quot;</span><span class="p">]</span>
                        <span class="n">AwayScore</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;AwayScore&quot;</span><span class="p">]</span>
                        <span class="n">Week</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Week&quot;</span><span class="p">]</span>
                        <span class="n">MatchDate</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;MatchDate&quot;</span><span class="p">]</span>
                        <span class="n">Time</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span>
                        <span class="n">Status</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span>
                        <span class="n">Refereeid</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Refereeid&quot;</span><span class="p">]</span>
                        <span class="n">obje</span><span class="o">.</span><span class="n">Fixture_update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;fixture_page&quot;</span><span class="p">))</span>
                <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Fixture_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
                <span class="n">cursor1</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Team</span><span class="p">()</span>
                <span class="n">cursor2</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_fixture.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">cursor1</span><span class="p">,</span><span class="n">cursor2</span><span class="p">])</span>
</pre></div>
</div>
<p>This code is required for fixture update page at administrator side. Two cursors are used to post input by using selection, one cursor is used to select the row from database we want to update.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixture_update_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; Select * From Fixtures where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">ID</span><span class="p">]))</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To select the row from database we want to update.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixture_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">FixtureID</span><span class="p">,</span><span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Fixtures Set HomeTeam=</span><span class="si">%s</span><span class="s2">, AwayTeam=</span><span class="si">%s</span><span class="s2">, HomeScore=</span><span class="si">%s</span><span class="s2">, AwayScore=</span><span class="si">%s</span><span class="s2">, Week=</span><span class="si">%s</span><span class="s2">,MatchDate=</span><span class="si">%s</span><span class="s2">,Time=</span><span class="si">%s</span><span class="s2">,Status=</span><span class="si">%s</span><span class="s2">,Refereeid=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">HomeTeam</span><span class="p">,</span><span class="n">AwayTeam</span><span class="p">,</span><span class="n">HomeScore</span><span class="p">,</span><span class="n">AwayScore</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">MatchDate</span><span class="p">,</span><span class="n">Time</span><span class="p">,</span><span class="n">Status</span><span class="p">,</span><span class="n">Refereeid</span><span class="p">,</span><span class="n">FixtureID</span><span class="p">]))</span>
</pre></div>
</div>
<p>To update database.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixture_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FixtureId</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Fixtures Where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">FixtureId</span><span class="p">]))</span>
</pre></div>
</div>
<p>To delete checked rows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/standing&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
    <span class="nd">@login_required</span>
    <span class="k">def</span> <span class="nf">standing_page</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                    <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
            <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                    <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Standings</span><span class="p">()</span>
                    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;standing.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                    <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
                    <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
                            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;standing_adding_page&quot;</span><span class="p">))</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
                            <span class="n">form_standing_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;standing&#39;</span><span class="p">)</span>
                            <span class="k">for</span> <span class="n">form_standing_key</span> <span class="ow">in</span> <span class="n">form_standing_keys</span><span class="p">:</span>
                                    <span class="n">obje</span><span class="o">.</span><span class="n">Standing_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_standing_key</span><span class="p">))</span>
                            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;standing_page&quot;</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
<span class="k">return</span> <span class="n">standing_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for standing page at administrator side for table creation. By clicking desired button operates add, delete or update operations.</p>
<p>This code is required for standing row adding page at administrator side. The cursor is used to post input by using selection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Standing_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">TeamID</span><span class="p">,</span><span class="n">Played</span><span class="p">,</span><span class="n">Won</span><span class="p">,</span><span class="n">Drawn</span><span class="p">,</span><span class="n">Lost</span><span class="p">,</span><span class="n">Goals_for</span><span class="p">,</span><span class="n">Goals_against</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Standings(TeamID,Played,Won,Drawn,Lost,Goals_for,Goals_against,Goals_difference,Points) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">TeamID</span><span class="p">,</span><span class="n">Played</span><span class="p">,</span><span class="n">Won</span><span class="p">,</span><span class="n">Drawn</span><span class="p">,</span><span class="n">Lost</span><span class="p">,</span><span class="n">Goals_for</span><span class="p">,</span><span class="n">Goals_against</span><span class="p">,(</span><span class="nb">int</span><span class="p">(</span><span class="n">Goals_for</span><span class="p">)</span><span class="o">-</span><span class="nb">int</span><span class="p">(</span><span class="n">Goals_against</span><span class="p">)),(</span><span class="mi">3</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="n">Won</span><span class="p">)</span><span class="o">+</span><span class="nb">int</span><span class="p">(</span><span class="n">Drawn</span><span class="p">))]))</span>
</pre></div>
</div>
<p>This query provides insertion to Standings Table.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_standing&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
        <span class="nd">@login_required</span>
        <span class="k">def</span> <span class="nf">standing_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                        <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;standing.html&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="n">TeamID</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TeamID&quot;</span><span class="p">]</span>
                                <span class="n">Played</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Played&quot;</span><span class="p">]</span>
                                <span class="n">Won</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Won&quot;</span><span class="p">]</span>
                                <span class="n">Drawn</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Drawn&quot;</span><span class="p">]</span>
                                <span class="n">Lost</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Lost&quot;</span><span class="p">]</span>
                                <span class="n">Goals_for</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Goals_for&quot;</span><span class="p">]</span>
                                <span class="n">Goals_against</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Goals_against&quot;</span><span class="p">]</span>
                                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                                <span class="n">obje</span><span class="o">.</span><span class="n">Standing_update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">TeamID</span><span class="p">,</span><span class="n">Played</span><span class="p">,</span><span class="n">Won</span><span class="p">,</span><span class="n">Drawn</span><span class="p">,</span><span class="n">Lost</span><span class="p">,</span><span class="n">Goals_for</span><span class="p">,</span><span class="n">Goals_against</span><span class="p">)</span>
                                <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;standing_page&quot;</span><span class="p">))</span>
                        <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Standing_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
                        <span class="n">cursor1</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Team</span><span class="p">()</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_standing.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="p">[</span><span class="n">cursor</span><span class="p">,</span><span class="n">cursor1</span><span class="p">])</span>
</pre></div>
</div>
<p>This code is required for standing update page at administrator side. One cursor is used to post input by using selection, one cursor is used to select the row from database we want to update.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Standing_update_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; Select * From Standings where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">ID</span><span class="p">]))</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>To select the row of standing table we want to update.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Standing_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">StandingId</span><span class="p">,</span><span class="n">TeamID</span><span class="p">,</span><span class="n">Played</span><span class="p">,</span><span class="n">Won</span><span class="p">,</span><span class="n">Drawn</span><span class="p">,</span><span class="n">Lost</span><span class="p">,</span><span class="n">Goals_for</span><span class="p">,</span><span class="n">Goals_against</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Standings Set TeamID=</span><span class="si">%s</span><span class="s2">, Played=</span><span class="si">%s</span><span class="s2">, Won=</span><span class="si">%s</span><span class="s2">, Drawn=</span><span class="si">%s</span><span class="s2">, Lost=</span><span class="si">%s</span><span class="s2">,Goals_for=</span><span class="si">%s</span><span class="s2">,Goals_against=</span><span class="si">%s</span><span class="s2">,Goals_difference=</span><span class="si">%s</span><span class="s2">,Points=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">TeamID</span><span class="p">,</span><span class="n">Played</span><span class="p">,</span><span class="n">Won</span><span class="p">,</span><span class="n">Drawn</span><span class="p">,</span><span class="n">Lost</span><span class="p">,</span><span class="n">Goals_for</span><span class="p">,</span><span class="n">Goals_against</span><span class="p">,(</span><span class="nb">int</span><span class="p">(</span><span class="n">Goals_for</span><span class="p">)</span><span class="o">-</span><span class="nb">int</span><span class="p">(</span><span class="n">Goals_against</span><span class="p">)),(</span><span class="mi">3</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="n">Won</span><span class="p">)</span><span class="o">+</span><span class="nb">int</span><span class="p">(</span><span class="n">Drawn</span><span class="p">)),</span><span class="n">StandingId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This querry updates the row of standings table we have selected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Standing_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">StandingId</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Standings Where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">StandingId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This querry deletes the row of standings table we have checked.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/referee&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
        <span class="nd">@login_required</span>
        <span class="k">def</span> <span class="nf">referee_page</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                        <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;GET&quot;</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee</span><span class="p">()</span>
                        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;referee.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                        <span class="n">process</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;buttonName&#39;</span><span class="p">)</span>
                        <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">):</span>
                                <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;referee_adding_page&quot;</span><span class="p">))</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">process</span> <span class="o">==</span> <span class="s2">&quot;Delete&quot;</span><span class="p">):</span>
                                <span class="n">form_referee_keys</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;referee&#39;</span><span class="p">)</span>
                                <span class="k">for</span> <span class="n">form_referee_key</span> <span class="ow">in</span> <span class="n">form_referee_keys</span><span class="p">:</span>
                                        <span class="nb">print</span><span class="p">(</span><span class="n">form_referee_key</span><span class="p">)</span>
                                        <span class="n">obje</span><span class="o">.</span><span class="n">Referee_delete</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">form_referee_key</span><span class="p">))</span>
                                <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;referee_page&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                                <span class="k">return</span> <span class="n">referee_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for referee page at administrator side for table creation. By clicking desired button operates add, delete or update operations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/add_referee&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">referee_adding_page</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_referee.html&#39;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
                <span class="n">RefereeName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;RefereeName&quot;</span><span class="p">]</span>
                <span class="n">Age</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Age&quot;</span><span class="p">]</span>
                <span class="n">TotalMatch</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalMatch&quot;</span><span class="p">]</span>
                <span class="n">TotalRedCard</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalRedCard&quot;</span><span class="p">]</span>
                <span class="n">TotalYellowCard</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalYellowCard&quot;</span><span class="p">]</span>
                <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                <span class="n">obje</span><span class="o">.</span><span class="n">Referee_add</span><span class="p">(</span><span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">)</span>
                <span class="n">flash</span><span class="p">(</span><span class="s2">&quot;You have added.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;add_referee.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for referee adding page at administrator side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Referee_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; INSERT INTO Referee(RefereeName,Age,TotalMatch,TotalRedCard,TotalYellowCard) VALUES(</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">,</span><span class="si">%s</span><span class="s2">);&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">]))</span>
</pre></div>
</div>
<p>This querry is needed for adding new referee to referee table.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/update_referee&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">referee_update_page</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_user</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
                <span class="n">abort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
        <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;referee.html&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">update</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">RefereeName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;RefereeName&quot;</span><span class="p">]</span>
                        <span class="n">Age</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Age&quot;</span><span class="p">]</span>
                        <span class="n">TotalMatch</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalMatch&quot;</span><span class="p">]</span>
                        <span class="n">TotalRedCard</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalRedCard&quot;</span><span class="p">]</span>
                        <span class="n">TotalYellowCard</span> <span class="o">=</span>  <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;TotalYellowCard&quot;</span><span class="p">]</span>
                        <span class="n">obje</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">FootballStats</span><span class="p">()</span>
                        <span class="n">obje</span><span class="o">.</span><span class="n">Referee_update</span><span class="p">(</span><span class="n">update</span><span class="p">,</span><span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;referee_page&quot;</span><span class="p">))</span>
                <span class="n">cursor</span><span class="o">=</span><span class="n">obje</span><span class="o">.</span><span class="n">Referee_update_info</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;update_referee.html&quot;</span><span class="p">,</span><span class="n">cursor</span><span class="o">=</span><span class="n">cursor</span><span class="p">)</span>
</pre></div>
</div>
<p>This code is required for referee update page at administrator side. The cursor is used to select the row from database we want to update.</p>
<p>To select the row of referee table we want to update.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Referee_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefereeID</span><span class="p">,</span><span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Update Referee Set RefereeName=</span><span class="si">%s</span><span class="s2">, Age=</span><span class="si">%s</span><span class="s2">, TotalMatch=</span><span class="si">%s</span><span class="s2">, TotalRedCard=</span><span class="si">%s</span><span class="s2">, TotalYellowCard=</span><span class="si">%s</span><span class="s2"> Where ID=</span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">RefereeName</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">TotalMatch</span><span class="p">,</span><span class="n">TotalRedCard</span><span class="p">,</span><span class="n">TotalYellowCard</span><span class="p">,</span><span class="n">RefereeID</span><span class="p">]))</span>
</pre></div>
</div>
<p>This querry updates the row of referee table we have selected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Referee_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">RefereeId</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Delete From Referee Where ID = </span><span class="si">%s</span><span class="s2">;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,([</span><span class="n">RefereeId</span><span class="p">]))</span>
</pre></div>
</div>
<p>This querry deletes the row of referee table we have checked.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Fixture_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Key</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Fixtures.ID,T1.TeamName ,T2.TeamName,Week,MatchDate,Time,HomeScore,AwayScore,Status,RefereeName,HomeTeam,AwayTeam,Refereeid FROM Fixtures,Teams AS T1,Teams AS T2,Referee</span>
<span class="s2">                          WHERE T1.ID=HomeTeam AND T2.ID=AwayTeam AND Refereeid=Referee.id and Fixtures.id=</span><span class="si">%s</span><span class="s2"> ORDER BY MatchDate,Time;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="p">[</span><span class="n">Key</span><span class="p">])</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
    <span class="k">def</span> <span class="nf">Fixtures2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="k">with</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                  <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                          <span class="n">statement</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Select Fixtures.ID,T1.TeamName ,T2.TeamName,Week,MatchDate,Time,HomeScore,AwayScore,Status,RefereeName FROM Fixtures,Teams AS T1,Teams AS T2,Referee WHERE T1.ID=HomeTeam AND T2.ID=AwayTeam AND Refereeid=Referee.id ORDER BY MatchDate,Time;&quot;&quot;&quot;</span>
                          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                          <span class="n">cursor_list</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
                          <span class="k">return</span> <span class="n">cursor_list</span>
</pre></div>
</div>
<p>These codes is needed other tables which is references to fixture table.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="member2.html" class="btn btn-neutral float-left" title="Parts Implemented by Muhammed Enes Tırnakçı" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, itucsdb1930

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>